<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Installation directoryLet’s start from the installation dirctory, you can use the Linux command “tree” to examine the source code directory organization.">
<meta property="og:type" content="article">
<meta property="og:title" content="File Structure of OpenFOAM">
<meta property="og:url" content="http://example.com/2018/file-structure-of-openfoam/index.html">
<meta property="og:site_name" content="BHL Notes">
<meta property="og:description" content="Installation directoryLet’s start from the installation dirctory, you can use the Linux command “tree” to examine the source code directory organization.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2018/file-structure-of-openfoam/openfoam-file-structure.jpg">
<meta property="og:image" content="http://example.com/2018/file-structure-of-openfoam/case-directory.png">
<meta property="article:published_time" content="2018-06-11T11:15:22.000Z">
<meta property="article:modified_time" content="2022-12-26T15:02:58.730Z">
<meta property="article:author" content="Bing Han Lin">
<meta property="article:tag" content="OpenFOAM">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2018/file-structure-of-openfoam/openfoam-file-structure.jpg">

<link rel="canonical" href="http://example.com/2018/file-structure-of-openfoam/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>File Structure of OpenFOAM | BHL Notes</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">BHL Notes</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">MY LEARNING TRAJECTORY</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/file-structure-of-openfoam/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Bing Han Lin">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BHL Notes">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          File Structure of OpenFOAM
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-06-11 19:15:22" itemprop="dateCreated datePublished" datetime="2018-06-11T19:15:22+08:00">2018-06-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-12-26 23:02:58" itemprop="dateModified" datetime="2022-12-26T23:02:58+08:00">2022-12-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/OpenFOAM-Note/" itemprop="url" rel="index"><span itemprop="name">OpenFOAM Note</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="Installation-directory"><a href="#Installation-directory" class="headerlink" title="Installation directory"></a>Installation directory</h2><p>Let’s start from the installation dirctory, you can use the Linux command <strong>“tree”</strong> to examine the source code directory organization.</p>
<span id="more"></span>
<pre><code>tree -d -L 1 $WM_PROJECT_DIR
</code></pre>
<p>This show you the folders in the <code>$WM_PROJECT_DIR</code>(installation dirctory). You can also find other files in this directory, but most importantly one is <strong>Allwmake</strong> which compiles all of OpenFOAM by calling other Allwmake scripts. All the directories are introduced as follow: </p>
<p><img src="/2018/file-structure-of-openfoam/openfoam-file-structure.jpg" alt="openFOAM file structure"><br><em>openFOAM file structure</em></p>
<ol>
<li><strong>applications:</strong> The directory contains the source files of all the executables which is created using the <strong>C++</strong> libraries. Here is a short description of the directories under applications .<ul>
<li><strong>solvers</strong> Contains source code for the distributed solvers.</li>
<li><strong>tests</strong> Contains source code that test and show example of the usage of some OpenFOAM libraries.</li>
<li><strong>Utilities</strong> Contains source code to perform pre- and post-processing tasks involving data manipulations and algebraic manipulations.</li>
</ul>
</li>
</ol>
<blockquote>
<p>note: there is also an <strong>Allwmake</strong> script, which will compile all the contents of <strong>solvers</strong> and <strong>utilities</strong>.</p>
</blockquote>
<ol start="2">
<li><p><strong>tutorials:</strong> Contains tutorials that demonstrate thr usage of all solvers and most of the utilities.</p>
</li>
<li><p><strong>src:</strong> The src directory contains several subdirectories which include the the source code for all the libraries. The important folders are:</p>
<ul>
<li><strong>finiteVolume</strong> This library provides all the classes needed for the finiteVolume discretization, such as the fvMesh class, finiteVolume discretization operators (divergence, laplacian, gradient, and fvc&#x2F;fvm), and boundary conditions (<code>fields/fvPatchFields</code>). In <code>cfdTools/general/include/</code> you also find the very important file fvCFD.H, which is included in most applications.</li>
<li><strong>OpenFOAM</strong> This core library includes the definitions of the containers used for the operations, the field definitions, the declaration of the mesh and of all the mesh features such as zones and sets.</li>
<li><strong>turbulenceModels</strong> Contains many libraries for turbulence models.</li>
</ul>
</li>
<li><p><strong>bin:</strong> The bin directory contains shell scripts, such as paraFoam,foamNew, foamLog…</p>
</li>
<li><p><strong>doc:</strong> The doc directory contains the documentation of OpenFOAM, such as Programmers Guide, User Guide, and Doxygen generated documentation in html format etc.</p>
</li>
<li><p><strong>doc:</strong> The doc directory contains the documentation of OpenFOAM, such as Programmers Guide, User Guide, and Doxygen generated documentation in html format etc.</p>
</li>
<li><p><strong>etc:</strong> Theetcdirectory contains environment set-up files, global <strong><em>controlDict</em></strong>, and default <strong><em>thermoData</em></strong>.</p>
</li>
<li><p><strong>platforms:</strong> Contains the binaries of the applications (bin) and dynamic libraries.</p>
</li>
<li><p><strong>wmake:</strong> <strong>Compiler settings</strong> are included in this directory incluiding optimisation flags. It also contains <strong><em>wmake</em></strong>, a special make command which understand the OpenFOAM file structure.</p>
</li>
</ol>
<hr>
<h2 id="Case-directory-Working-diretory"><a href="#Case-directory-Working-diretory" class="headerlink" title="Case directory (Working diretory)"></a>Case directory (Working diretory)</h2><p>The basic directory structure for a OpenFOAM case, that contains the minimum set of files required to run an application, is shown in following figure and described as follows:</p>
<p><img src="/2018/file-structure-of-openfoam/case-directory.png" alt="case directory"><br><em><a target="_blank" rel="noopener" href="https://cfd.direct/openfoam/user-guide/case-file-structure">source</a></em></p>
<ul>
<li><strong>constant</strong> Contains a full description of the case <strong>mesh</strong> in a subdirectory polyMesh and files specifying physical properties for the application concerned, e.g. transportProperties.</li>
<li><strong>system</strong> For setting parameters associated with the solution procedure itself. It contains at least the following 3 files: <strong><em>controlDict</em></strong> where run control parameters are set including start&#x2F;end time, time step and parameters for data output; <strong><em>fvSchemes</em></strong> where discretisation schemes used in the solution may be selected at run-time; and, <strong><em>fvSolution</em></strong> where the equation solvers, tolerances and other algorithm controls are set for the run.</li>
<li><strong>time (or 0)</strong> Containing individual files of data for particular fields, e.g. velocity and pressure. The data can be: either, initial values and boundary conditions that the user must specify to define the problem; or, results written to file by OpenFOAM. The name of each time directory is based on the simulated time at which the data is written. It is sufficient to say now that since we usually start our simulations at time t &#x3D; 0, the initial conditions are usually stored in a directory named 0 or 0.000000e+00, depending on the name format specified. For example, in the cavity tutorial, the velocity field U and pressure field p are initialised from files 0&#x2F;U and 0&#x2F;p respectively.</li>
</ul>
<hr>
<h2 id="Run-tutorials-in-OpenFOAM"><a href="#Run-tutorials-in-OpenFOAM" class="headerlink" title="Run tutorials in OpenFOAM"></a>Run tutorials in OpenFOAM</h2><p>For OpenFOAM users, tutorials are essential because in most cases you will start your own project by:</p>
<ul>
<li>Selecting a solver which implements all necessary physics</li>
<li>Checking the tutorials available for the solver</li>
<li>Copying, renaming and modifying the most similar tutorial</li>
<li>Testing and running your own simulation</li>
</ul>
<p>However, the tutorial collection contains a variety of different case setups. In the following, three different ways to run these tutorials are introduced.</p>
<ul>
<li><strong>Simple blockMesh&#x2F;mySolverFoam tutorials</strong></li>
<li><strong>Tutorials with Allrun&#x2F;Allclean scripts</strong></li>
<li><strong>Tutorials which require system operations</strong></li>
</ul>
<p>Thses 3 ways are briefly descrided as follow, see this <a target="_blank" rel="noopener" href="http://myheutagogy.com/2016/03/17/of_tutorials/">article</a> for further detail.</p>
<ol>
<li><p><strong>Simple blockMesh&#x2F;mySolverFoam tutorials</strong> For a common case such as lid-driven cavity flow (you can find it in <code>$FOAM_RUN/tutorials/incompressible/icoFoam/cavity/</code>), the directory contains <strong>system</strong>, <strong>constant</strong>, and <strong>0</strong>. If no further execution scripts are provided, you will always have to run <code>blockMesh</code>, for the mesh creation, and afterwards your solver of choice, <code>icoFoam</code> in our case . A possible scenario is an additional <strong>setFieldsDict</strong> to set initial field values. The corresponding utility to run after <code>blockMesh</code> would be <code>setFields</code>.</p>
<p><code>blockMesh = &gt;&gt; setFields (if need)= &gt;&gt; icoFoam(choose your solver)</code></p>
</li>
<li><p><strong>Tutorials with Allrun&#x2F;Allclean scripts</strong> For some complicated cases, automating processes comes naturally within a Linux environment via Shell scripts. Basically, all necessary commands are written into a file which is then executed. In the tutorial collection these scripts are usually called <strong><em>Allrun</em></strong>.</p>
</li>
<li><p><strong>Tutorials which require system operations</strong> “System operations” basically means that an application (e.g. a solver) compiles and (hopefully) runs user-supplied C++ source code at runtime. Examples are the <a target="_blank" rel="noopener" href="https://openfoam.org/release/2-0-0/run-time-control-code-compilation/">#codeStream</a> directive or the codedFixedValue boundary condition.</p>
</li>
</ol>
<hr>
<ul>
<li>Reference:</li>
</ul>
<ol>
<li><a target="_blank" rel="noopener" href="https://wenku.baidu.com/view/efbee181fe4733687f21aa6a.html">OpenFOAM基础培训-目录结构</a></li>
<li><a target="_blank" rel="noopener" href="http://www.hpc.lsu.edu/training/weekly-materials/2016-Spring/intro_of_20160224.pdf">Introduction to OpenFOAM</a></li>
<li><a target="_blank" rel="noopener" href="http://www.tfd.chalmers.se/~hani/kurser/OS_CFD_2015/directoryOrganization.pdf">OpenFOAM directory organization</a></li>
<li><a target="_blank" rel="noopener" href="https://www.slideshare.net/JibranHaider/openfoam-for-beginners">OpenFOAM for beginners: Hands-on training</a></li>
<li><a target="_blank" rel="noopener" href="https://cfd.direct/openfoam/user-guide/case-file-structure/">CFD Direct</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/aleigus/article/details/72917112">aleigus的博客-Openfoam学习记录</a></li>
<li><a target="_blank" rel="noopener" href="http://myheutagogy.com/2016/03/17/of_tutorials/">3 ways to run tutorials in OpenFOAM</a></li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/OpenFOAM/" rel="tag"># OpenFOAM</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2018/truncation%20error%20&%20rounding%20error/" rel="prev" title="Truncation error & Rounding error">
      <i class="fa fa-chevron-left"></i> Truncation error & Rounding error
    </a></div>
      <div class="post-nav-item">
    <a href="/2018/openfoam-tutorial-lid-driven-cavity/" rel="next" title="OpenFOAM Tutorial - Lid Driven Cavity">
      OpenFOAM Tutorial - Lid Driven Cavity <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Installation-directory"><span class="nav-number">1.</span> <span class="nav-text">Installation directory</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Case-directory-Working-diretory"><span class="nav-number">2.</span> <span class="nav-text">Case directory (Working diretory)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Run-tutorials-in-OpenFOAM"><span class="nav-number">3.</span> <span class="nav-text">Run tutorials in OpenFOAM</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Bing Han Lin</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">11</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/BingHanLin" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;BingHanLin" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Bing Han Lin</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
